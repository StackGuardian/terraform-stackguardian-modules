{
  "ui:title": "StackGuardian Private Runner for AWS",
  "ui:description": "Deploy a standalone StackGuardian Private Runner on AWS EC2. This module creates a single EC2 instance configured to register with your StackGuardian runner group.",
  "instance_type": {
    "ui:description": "The EC2 instance type for Private Runner (min 4 vCPU, 8GB RAM recommended)"
  },
  "ami_id": {
    "ui:placeholder": "ami-***",
    "ui:description": "The AMI ID with pre-installed dependencies (docker, cron, jq, sg-runner). Required."
  },
  "aws_region": {
    "ui:description": "The target AWS Region for deployment"
  },
  "runner_group_name": {
    "ui:placeholder": "my-runner-group",
    "ui:description": "Name of the runner group on StackGuardian (from stackguardian_runner_group module)"
  },
  "storage_backend_role_arn": {
    "ui:placeholder": "arn:aws:iam::***:role/***",
    "ui:description": "ARN of the IAM role for S3 storage backend access (from stackguardian_runner_group module)"
  },
  "stackguardian": {
    "ui:title": "StackGuardian Configuration",
    "ui:description": "Configure your StackGuardian platform connection",
    "api_key": {
      "ui:placeholder": "sgu_***",
      "ui:widget": "password",
      "ui:description": "Your organization's API key on the StackGuardian Platform"
    },
    "org_name": {
      "ui:placeholder": "your-org-name (optional)",
      "ui:description": "Your organization name on the StackGuardian Platform. If not provided, will be extracted from environment."
    },
    "api_uri": {
      "ui:widget": "select",
      "ui:description": "Select your StackGuardian API region"
    }
  },
  "override_names": {
    "ui:title": "Resource Naming Configuration",
    "ui:description": "Customize resource names (optional)",
    "global_prefix": {
      "ui:description": "Prefix for naming all AWS resources"
    }
  },
  "network": {
    "ui:title": "Network Configuration",
    "ui:description": "Configure VPC and subnet settings for the runner instance",
    "vpc_id": {
      "ui:placeholder": "vpc-***",
      "ui:description": "Existing VPC ID for deployment"
    },
    "subnet_id": {
      "ui:placeholder": "subnet-***",
      "ui:description": "Subnet ID for the runner instance (backwards compatible, use this OR private/public subnet combination)"
    },
    "private_subnet_id": {
      "ui:placeholder": "subnet-private-***",
      "ui:description": "Private subnet ID for the runner instance (optional, for private deployments)"
    },
    "public_subnet_id": {
      "ui:placeholder": "subnet-public-***",
      "ui:description": "Public subnet ID (required when using NAT Gateway with create_network_infrastructure)"
    },
    "associate_public_ip": {
      "ui:widget": "checkbox",
      "ui:description": "Whether to assign a public IP to the runner instance"
    },
    "create_network_infrastructure": {
      "ui:widget": "checkbox",
      "ui:description": "Create NAT Gateway and route tables for private subnet connectivity. Requires both private_subnet_id and public_subnet_id."
    },
    "proxy_url": {
      "ui:placeholder": "http://proxy.example.com:8080",
      "ui:description": "HTTP proxy URL for private network deployments without direct internet access"
    },
    "additional_security_group_ids": {
      "ui:description": "Additional security group IDs to attach to the instance (optional)"
    }
  },
  "volume": {
    "ui:title": "EBS Volume Configuration",
    "ui:description": "Configure storage settings for the runner instance",
    "type": {
      "ui:widget": "select",
      "ui:description": "Type of the EBS volume"
    },
    "size": {
      "ui:description": "Size of the EBS volume in GB (minimum 8GB, 100GB recommended)"
    },
    "delete_on_termination": {
      "ui:widget": "checkbox",
      "ui:description": "Whether to delete the EBS volume on instance termination"
    }
  },
  "firewall": {
    "ui:title": "Security & SSH Configuration",
    "ui:description": "Configure SSH access and additional security rules",
    "ssh_key_name": {
      "ui:placeholder": "my-keypair",
      "ui:description": "Name of existing SSH key pair in AWS"
    },
    "ssh_public_key": {
      "ui:widget": "textarea",
      "ui:placeholder": "ssh-rsa AAAAB3NzaC1yc2E...",
      "ui:options": {
        "rows": 3
      },
      "ui:description": "Custom SSH public key content (takes precedence over ssh_key_name)"
    },
    "ssh_access_rules": {
      "ui:description": "Map of CIDR blocks for SSH access (e.g., {\"office\": \"10.0.0.0/8\"})"
    },
    "additional_ingress_rules": {
      "ui:description": "Additional ingress rules with port, protocol, and cidr_blocks"
    }
  },
  "runner_startup_timeout": {
    "ui:description": "Maximum seconds to wait for Docker to start before shutting down instance"
  }
}
